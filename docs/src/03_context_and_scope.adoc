ifndef::imagesdir[:imagesdir: ../images]

[[section-context-and-scope]]
== Context and Scope

ifdef::arc42help[]
[role="arc42help"]
****
.Content  
The system's scope and context, as the name suggests, define the system's boundaries (i.e., its scope) from all its stakeholders (neighboring systems and users, i.e., the system's context). This specifies the external interfaces.

If necessary, differentiate between the business context (domain-specific inputs and outputs) and the technical context (channels, protocols, hardware).

.Motivation  
Domain interfaces and technical interfaces with communication partners are among the most critical aspects of your system. Ensure you fully understand them.

.Format  
Various options:

* Multiple context diagrams  
* Lists of communication partners and their interfaces  

.More Information  
See https://docs.arc42.org/section-3/[Context and Scope] in the arc42 documentation.

****
endif::arc42help[]

=== Business Context

image::model.png[Business Context]  

[options="header",cols="1,2"]
|===
| Element | Description  
| _User_ | _The contestant who interacts with the application, can ask the integrated chatbot, and answer the displayed questions._  

| _WIChat_ | _Main web application where the game logic takes place._  

| _Wikidata_ | _Source from which the questions and answers will be extracted._  

| _LLM_API_ | _API integrating an LLM that will be used to dynamically generate hints and follow a conversational dialogue to help the contestant answer the questions without explicitly giving away the answer._  

| _Database_ | _Storage system that keeps relevant user information and past game sessions._  
|===

ifdef::arc42help[]
[role="arc42help"]
****
.Content  
Specification of all stakeholders (users, IT systems, etc.) with explanations of domain-specific inputs, outputs, or interfaces.  
Optionally, you may add specific domain communication formats or protocols.

.Motivation  
All stakeholders must understand what data is exchanged with the system's environment.

.Format  
Any type of diagram showing the system as a black box and specifying domain interfaces with communication partners.  

Alternatively (or additionally), you can use a table.  
The table title is your system's name, and the three columns contain the stakeholder name, inputs, and outputs.

****
endif::arc42help[]

=== Technical Context  

ifdef::arc42help[]
[role="arc42help"]
****
.Content  
Technical interfaces (channels and transmission media) connecting the system with its environment. Additionally, a mapping of domain-specific input/output to the channels, explaining which input/output uses each channel.

.Motivation  
Many stakeholders make architectural decisions based on technical interfaces between the system and its context. Hardware or infrastructure designers, in particular, decide on these technical interfaces.

.Format  
For example, a UML deployment diagram describing channels with neighboring systems,  
alongside a mapping table showing the relationships between channels and input/output.

****
endif::arc42help[]

==== Deployment Diagram

image::deploy-diagram.png[Deployment Diagram]  

==== **Technical Interface Explanation**

===== **Gateway**  
API that links the different parts of the application.  

===== **React Application**  
React provides the user with an interface to interact with, answer questions, and make requests to the backend.  

===== **User Database**  
Stores all information related to users, data, and game session history.  

===== **Authentication Service**  
Interface that communicates with the user database to verify whether a login attempt is valid.  

===== **User Service**  
Interface that communicates with the user database to query or update game-related information.  

===== **LLM Service**  
Service that processes hints using Gemini AI and returns responses to the user's questions via prompt engineering
on the code, so it only answers game-related questions.  

===== **Question Service**  
Service that processes information from Wikidata to generate questions and possible answers. 

===== **WikiData API**  
WikiData provides all question-related content, including images, answers, and the correct response.  

===== **Gemini AI**  
The LLM we are using for hints.  

==== Input/Output Channel Mapping  

[options="header",cols="1,2,2"]
|===
| Channel | Input | Output  
| React Application | HTTP requests from the user with actions | Response through the interface.  
| Gateway | REST requests from the web app to obtain question data (images, answers) or perform operations like login | Response with the requested information in each case.  
| User Service | Data queries to the database | Response to the query.  
| Authentication Service | User login data | Data verification query to check if the credentials are correct.  
| LLM_Service | Prompt with the hints requested by the user | Hint generated by the model.  
| WikiData API | Request for question information | Response with the requested information.
| Question Service | A request from the game when it needs a question | Question and answers generated using the information retrieved from Wikidata API.  
| User Database | SQL instructions for queries or insertions | Query results or confirmation of insertions.  
| Prometheus | Gateway metrics | Metrics stored in its database.  
| Grafana | Metrics organized in Prometheus | Visualization of metrics.  
|===
