<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>WIChat_ES4C System Architecture Documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1><span class="image"><img src="./images/WIChat.png" alt="WIChat" width="100"></span> WIChat_ES4C System Architecture Documentation</h1>
<div class="details">
<span id="revnumber">version 8.2 EN,</span>
<span id="revdate">January 2023</span>
<br><span id="revremark">(based upon AsciiDoc version)</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#section-introduction-and-goals">1. Introduction and Goals</a>
<ul class="sectlevel2">
<li><a href="#_requirements_overview">1.1. Requirements Overview</a></li>
<li><a href="#_quality_goals">1.2. Quality Goals</a></li>
<li><a href="#_stakeholders">1.3. Stakeholders</a></li>
</ul>
</li>
<li><a href="#section-architecture-constraints">2. Architecture Constraints</a></li>
<li><a href="#section-context-and-scope">3. Context and Scope</a>
<ul class="sectlevel2">
<li><a href="#_business_context">3.1. Business Context</a></li>
<li><a href="#_technical_context">3.2. Technical Context</a></li>
</ul>
</li>
<li><a href="#section-solution-strategy">4. Solution Strategy</a>
<ul class="sectlevel2">
<li><a href="#_4_1_technology_decisions">4.1. 4.1. Technology Decisions</a></li>
<li><a href="#_4_2_system_architecture">4.2. 4.2. System Architecture</a></li>
<li><a href="#_4_3_decisions_made_to_achieve_quality_goals">4.3. 4.3. Decisions Made to Achieve Quality Goals</a></li>
<li><a href="#_4_4_organizational_decisions">4.4. 4.4. Organizational Decisions</a></li>
</ul>
</li>
<li><a href="#section-building-block-view">5. Building Block View</a>
<ul class="sectlevel2">
<li><a href="#_whitebox_overall_system">5.1. Whitebox Overall System</a></li>
<li><a href="#_level_2_internal_structure_of_wichat">5.2. Level 2 - Internal Structure of WIChat</a></li>
<li><a href="#_level_3_detailed_breakdown_of_gatewayservice">5.3. Level 3 - Detailed Breakdown of GatewayService</a></li>
</ul>
</li>
<li><a href="#section-runtime-view">6. Runtime View</a>
<ul class="sectlevel2">
<li><a href="#_login">6.1. Login</a></li>
<li><a href="#_question_generation">6.2. Question generation</a></li>
<li><a href="#_how_does_the_user_gets_the_questions_to_play_the_game">6.3. How does the user gets the questions to play the game</a></li>
<li><a href="#_clue_generation">6.4. Clue Generation</a></li>
<li><a href="#_game">6.5. Game</a></li>
<li><a href="#_show_user_info">6.6. Show User Info</a></li>
</ul>
</li>
<li><a href="#section-deployment-view">7. Deployment View</a>
<ul class="sectlevel2">
<li><a href="#_infrastructure">7.1. Infrastructure</a></li>
</ul>
</li>
<li><a href="#section-concepts">8. Cross-cutting Concepts</a>
<ul class="sectlevel2">
<li><a href="#_domain_concepts">8.1. Domain Concepts</a></li>
<li><a href="#_user_experience_ux_concepts">8.2. User Experience (UX) Concepts</a></li>
<li><a href="#_security_and_safety_concepts">8.3. Security and Safety Concepts</a></li>
<li><a href="#_architecture_and_design_patterns">8.4. Architecture and Design Patterns</a></li>
<li><a href="#_under_the_hood_technical_implementation">8.5. "Under-the-hood" - Technical Implementation</a></li>
<li><a href="#_development_concepts">8.6. Development Concepts</a></li>
<li><a href="#_operational_concepts">8.7. Operational Concepts</a></li>
</ul>
</li>
<li><a href="#section-design-decisions">9. Architecture Decisions</a></li>
<li><a href="#section-quality-scenarios">10. Quality Requirements</a>
<ul class="sectlevel2">
<li><a href="#_quality_tree">10.1. Quality Tree</a></li>
<li><a href="#_quality_scenarios">10.2. Quality Scenarios</a></li>
</ul>
</li>
<li><a href="#section-technical-risks">11. Risks and Technical Debts</a>
<ul class="sectlevel2">
<li><a href="#_risks">11.1. Risks</a></li>
<li><a href="#_technical_debt">11.2. Technical Debt</a></li>
</ul>
</li>
<li><a href="#section-glossary">12. Glossary</a></li>
<li><a href="#section-testing-report">13. Testing Report</a>
<ul class="sectlevel2">
<li><a href="#_unit_tests">13.1. Unit Tests</a></li>
<li><a href="#_acceptance_tests_end_to_end">13.2. Acceptance Tests (End-to-End)</a></li>
<li><a href="#_monitoringprofiling">13.3. Monitoring/Profiling</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<style>
.arc42help {font-size:small; width: 14px; height: 16px; overflow: hidden; position: absolute; right: 0; padding: 2px 0 3px 2px;}
.arc42help::before {content: "?";}
.arc42help:hover {width:auto; height: auto; z-index: 100; padding: 10px;}
.arc42help:hover::before {content: "";}
@media print {
	.arc42help {display:none;}
}
</style>
<div class="paragraph">
<p><strong>About arc42</strong></p>
</div>
<div class="paragraph lead">
<p>arc42, the template for documentation of software and system architecture.</p>
</div>
<div class="paragraph">
<p>Template Version 8.2 EN. (based upon AsciiDoc version), January 2023</p>
</div>
<div class="paragraph">
<p>Created, maintained and &#169; by Dr. Peter Hruschka, Dr. Gernot Starke and contributors.
See <a href="https://arc42.org" class="bare">https://arc42.org</a>.</p>
</div>
<hr>
<div class="sidebarblock arc42help">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This version of the template contains some help and explanations.
It is used for familiarization with arc42 and the understanding of the concepts.
For documentation of your own system you use better the <em>plain</em> version.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-introduction-and-goals">1. Introduction and Goals</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<p>Describes the relevant requirements and the driving forces that software architects and development team must consider.
These include</p>
</div>
<div class="ulist">
<ul>
<li>
<p>underlying business goals,</p>
</li>
<li>
<p>essential features,</p>
</li>
<li>
<p>essential functional requirements,</p>
</li>
<li>
<p>quality goals for the architecture and</p>
</li>
<li>
<p>relevant stakeholders and their expectations</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>WIChat is an AI-powered web application for <strong>RTVE</strong>, aiming to develop an online quiz inspired by <strong>Saber y Ganar</strong>. This project will introduce a <strong>conversational AI</strong> feature that provides hints to contestants using an LLM.</p>
</div>
<div class="paragraph">
<p>This document describes the key requirements and quality goals for the project. It also identifies the stakeholders and their expectations.</p>
</div>
<div class="sect2">
<h3 id="_requirements_overview">1.1. Requirements Overview</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Short description of the functional requirements, driving forces, extract (or abstract)
of requirements. Link to (hopefully existing) requirements documents
(with version number and information where to find it).</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>From the point of view of the end users a system is created or modified to
improve support of a business activity and/or improve the quality.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Short textual description, probably in tabular use-case format.
If requirements documents exist this overview should refer to these documents.</p>
</div>
<div class="paragraph">
<p>Keep these excerpts as short as possible. Balance readability of this document with potential redundancy w.r.t to requirements documents.</p>
</div>
<div class="paragraph">
<p>The WIChat system must fulfill the following essential requirements:</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-1/">Introduction and Goals</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>User registration and authentication</strong>: Users must be able to create accounts and log in.</p>
</li>
<li>
<p><strong>Image-based questions</strong>: The game will display an image, and users must identify its location.</p>
</li>
<li>
<p><strong>AI-generated hints</strong>: Players can request hints about the image through a conversational interface powered by an external <strong>LLM</strong>.</p>
</li>
<li>
<p><strong>Automatic content generation</strong>: Images and hints must be dynamically created using <strong>Wikidata</strong>.</p>
</li>
<li>
<p><strong>Game scoring and rewards</strong>: Users earn points or rewards for correct answers.</p>
</li>
<li>
<p><strong>API access</strong>: External systems should be able to retrieve quiz data and user performance information through an API.</p>
</li>
<li>
<p><strong>Time-limited responses</strong>: Each question must be answered within a given timeframe.</p>
</li>
<li>
<p><strong>Leaderboard</strong>: Users can view their ranking and compare their performance with others.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_quality_goals">1.2. Quality Goals</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>The top three (max five) quality goals for the architecture whose fulfillment is of highest importance to the major stakeholders.
We really mean quality goals for the architecture. Don&#8217;t confuse them with project goals.
They are not necessarily identical.</p>
</div>
<div class="paragraph">
<p>Consider this overview of potential topics (based upon the ISO 25010 standard):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/01_2_iso-25010-topics-EN.drawio.png" alt="Categories of Quality Requirements">
</div>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should know the quality goals of your most important stakeholders, since they will influence fundamental architectural decisions.
Make sure to be very concrete about these qualities, avoid buzzwords.
If you as an architect do not know how the quality of your work will be judged&#8230;&#8203;</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>A table with quality goals and concrete scenarios, ordered by priorities</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Quality Goal</th>
<th class="tableblock halign-left valign-top">Motivation</th>
<th class="tableblock halign-left valign-top">Concrete Scenario</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Usability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The game must provide an intuitive and engaging user experience</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The UI should be clear and easy to navigate, with a conversational AI that is easy to interact with</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Performance</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AI-generated hints should be delivered quickly to avoid disrupting gameplay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hints generated via the <strong>LLM</strong> should have a response time of <strong>less than 3 seconds</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Security</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protecting user data and preventing AI model abuse is critical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User interactions should be encrypted and respect user privacy and data protection laws.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>AI Adaptability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <strong>LLM</strong> should provide relevant and contextually appropriate hints</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The AI must be fine-tuned to ensure accurate and helpful responses based on <strong>Wikidata</strong> sources</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Scalability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must handle multiple simultaneous users without slowdowns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The game should support multiple concurrent players with minimal latency</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_stakeholders">1.3. Stakeholders</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Explicit overview of stakeholders of the system, i.e. all person, roles or organizations that</p>
</div>
<div class="ulist">
<ul>
<li>
<p>should know the architecture</p>
</li>
<li>
<p>have to be convinced of the architecture</p>
</li>
<li>
<p>have to work with the architecture or with code</p>
</li>
<li>
<p>need the documentation of the architecture for their work</p>
</li>
<li>
<p>have to come up with decisions about the system or its development</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should know all parties involved in development of the system or affected by the system.
Otherwise, you may get nasty surprises later in the development process.
These stakeholders determine the extent and the level of detail of your work and its results.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Table with role names, person names, and their expectations with respect to the architecture and its documentation.</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role/Name</th>
<th class="tableblock halign-left valign-top">Contact</th>
<th class="tableblock halign-left valign-top">Expectations</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Users</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">General public, quiz players</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Engaging and interactive quiz experience with AI-generated hints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Development Team</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carballo Pérez, Andrés (<a href="mailto:UO287983@uniovi.es">UO287983@uniovi.es</a>)<br>
Gutiérrez García, Miguel (<a href="mailto:UO295650@uniovi.es">UO295650@uniovi.es</a>)<br>
Mahía Loredo, Adrián (<a href="mailto:UO289390@uniovi.es">UO289390@uniovi.es</a>)<br>
Pérez Cuervo, Bruno (<a href="mailto:UO295445@uniovi.es">UO295445@uniovi.es</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Well-documented architecture and a system that is easy to maintain and extend</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Professors</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pablo González González<br>
(<a href="mailto:gonzalezgpablo@uniovi.es">gonzalezgpablo@uniovi.es</a>)<br>
Jose Emilio Labra Gayo<br>
(<a href="mailto:labra@uniovi.es">labra@uniovi.es</a>)<br>
Diego Martín Fernández<br>
(<a href="mailto:martinfdiego@uniovi.es">martinfdiego@uniovi.es</a>) <br>
Irene Cid Rico<br>
(<a href="mailto:cidirene@uniovi.es">cidirene@uniovi.es</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A project demonstrating <strong>LLM integration</strong> and structured team collaboration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>RTVE</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.rtve.es" class="bare">https://www.rtve.es</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An engaging online game that aligns with their brand and audience expectations</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-architecture-constraints">2. Architecture Constraints</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Any requirement that constraints software architects in their freedom of design and implementation decisions or decision about the development process. These constraints sometimes go beyond individual systems and are valid for whole organizations and companies.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Architects should know exactly where they are free in their design decisions and where they must adhere to constraints.
Constraints must always be dealt with; they may be negotiable, though.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Simple tables of constraints with explanations.
If needed you can subdivide them into
technical constraints, organizational and political constraints and
conventions (e.g. programming or versioning guidelines, documentation or naming conventions)</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-2/">Architecture Constraints</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Restriction</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Git/GitHub</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Git will be used as the version control system and GitHub as the platform to store the code, allowing for efficient code management, project change tracking, and facilitating collaboration among team members. Additionally, a lack of proficiency with these tools could lead to lower efficiency and greater challenges.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application will be deployed using Docker, allowing for a more consistent and flexible deployment, which facilitates the management of scalability and dependencies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AsciiDoc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All documentation associated with the project must be developed using AsciiDoc, a lightweight and structured format.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The project must be developed, tested, and completed according to the established deadlines, with organization and effective use of time by the team, including meetings and planning, being key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Accessible</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application must be deployed and accessible via web, allowing users to interact with the system from any device with an internet connection, without the need for local installations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wikidata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must obtain data to generate questions and images from Wikidata, ensuring a structured, updated, and verifiable source of information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A language model will be integrated to generate hints for each question through interaction with the application.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-context-and-scope">3. Context and Scope</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>The system&#8217;s scope and context, as the name suggests, define the system&#8217;s boundaries (i.e., its scope) from all its stakeholders (neighboring systems and users, i.e., the system&#8217;s context). This specifies the external interfaces.</p>
</div>
<div class="paragraph">
<p>If necessary, differentiate between the business context (domain-specific inputs and outputs) and the technical context (channels, protocols, hardware).</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Domain interfaces and technical interfaces with communication partners are among the most critical aspects of your system. Ensure you fully understand them.</p>
</div>
<div class="paragraph">
<div class="title">Format</div>
<p>Various options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Multiple context diagrams</p>
</li>
<li>
<p>Lists of communication partners and their interfaces</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">More Information</div>
<p>See <a href="https://docs.arc42.org/section-3/">Context and Scope</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_business_context">3.1. Business Context</h3>
<div class="imageblock">
<div class="content">
<img src="./images/model.png" alt="Business Context">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>User</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The contestant who interacts with the application, can ask the integrated chatbot, and answer the displayed questions.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>WIChat</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Main web application where the game logic takes place.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Wikidata</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Source from which the questions and answers will be extracted.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>LLM_API</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>API integrating an LLM that will be used to dynamically generate hints and follow a conversational dialogue to help the contestant answer the questions without explicitly giving away the answer.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Database</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Storage system that keeps relevant user information and past game sessions.</em></p></td>
</tr>
</tbody>
</table>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>Specification of all stakeholders (users, IT systems, etc.) with explanations of domain-specific inputs, outputs, or interfaces.
Optionally, you may add specific domain communication formats or protocols.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>All stakeholders must understand what data is exchanged with the system&#8217;s environment.</p>
</div>
<div class="paragraph">
<div class="title">Format</div>
<p>Any type of diagram showing the system as a black box and specifying domain interfaces with communication partners.</p>
</div>
<div class="paragraph">
<p>Alternatively (or additionally), you can use a table.
The table title is your system&#8217;s name, and the three columns contain the stakeholder name, inputs, and outputs.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_technical_context">3.2. Technical Context</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>Technical interfaces (channels and transmission media) connecting the system with its environment. Additionally, a mapping of domain-specific input/output to the channels, explaining which input/output uses each channel.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Many stakeholders make architectural decisions based on technical interfaces between the system and its context. Hardware or infrastructure designers, in particular, decide on these technical interfaces.</p>
</div>
<div class="paragraph">
<div class="title">Format</div>
<p>For example, a UML deployment diagram describing channels with neighboring systems,
alongside a mapping table showing the relationships between channels and input/output.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_architecture_diagram">3.2.1. Architecture Diagram</h4>
<div class="imageblock">
<div class="content">
<img src="./images/architecture-diagram.png" alt="Architecture Diagram">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_technical_interface_explanation">3.2.2. <strong>Technical Interface Explanation</strong></h4>
<div class="sect4">
<h5 id="_gateway"><strong>Gateway</strong></h5>
<div class="paragraph">
<p>API that links the different parts of the application.</p>
</div>
</div>
<div class="sect4">
<h5 id="_react_application"><strong>React Application</strong></h5>
<div class="paragraph">
<p>React provides the user with an interface to interact with, answer questions, and make requests to the backend.</p>
</div>
</div>
<div class="sect4">
<h5 id="_user_database"><strong>User Database</strong></h5>
<div class="paragraph">
<p>Stores all information related to users, data, and game session history.</p>
</div>
</div>
<div class="sect4">
<h5 id="_authentication_service"><strong>Authentication Service</strong></h5>
<div class="paragraph">
<p>Interface that communicates with the user database to verify whether a login attempt is valid.</p>
</div>
</div>
<div class="sect4">
<h5 id="_user_service"><strong>User Service</strong></h5>
<div class="paragraph">
<p>Interface that communicates with the user database to query or update game-related information.</p>
</div>
</div>
<div class="sect4">
<h5 id="_llm_service"><strong>LLM Service</strong></h5>
<div class="paragraph">
<p>Service that processes hints using Gemini AI and returns responses to the user&#8217;s questions via prompt engineering
on the code, so it only answers game-related questions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_question_service"><strong>Question Service</strong></h5>
<div class="paragraph">
<p>Service that processes information from Wikidata to generate questions and possible answers.</p>
</div>
</div>
<div class="sect4">
<h5 id="_question_database"><strong>Question Database</strong></h5>
<div class="paragraph">
<p>Stores quiestions generated in the question service for later use in the game.</p>
</div>
</div>
<div class="sect4">
<h5 id="_wikidata_api"><strong>WikiData API</strong></h5>
<div class="paragraph">
<p>WikiData provides all question-related content, including images, answers, and the correct response.</p>
</div>
</div>
<div class="sect4">
<h5 id="_gemini_ai"><strong>Gemini AI</strong></h5>
<div class="paragraph">
<p>The LLM we are using for hints.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_inputoutput_channel_mapping">3.2.3. Input/Output Channel Mapping</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Channel</th>
<th class="tableblock halign-left valign-top">Input</th>
<th class="tableblock halign-left valign-top">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">React Application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP requests from the user with actions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response through the interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gateway</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST requests from the web app to obtain question data (images, answers) or perform operations like login</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response with the requested information in each case.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data queries to the database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response to the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authentication Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User login data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data verification query to check if the credentials are correct.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LLM Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prompt with the hints requested by the user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hint generated by the model.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WikiData API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request for question information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response with the requested information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Question Service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A request from the game when it needs a question</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Question and answers generated using the information retrieved from Wikidata API.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SQL instructions for queries or insertions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query results or confirmation of insertions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Question Database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fully generated questions from question service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The questions when the game needs them.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prometheus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gateway metrics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metrics stored in its database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Grafana</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metrics organized in Prometheus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Visualization of metrics.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-solution-strategy">4. Solution Strategy</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>A short summary and explanation of the fundamental decisions and solution strategies, that shape system architecture. It includes</p>
</div>
<div class="ulist">
<ul>
<li>
<p>technology decisions</p>
</li>
<li>
<p>decisions about the top-level decomposition of the system, e.g. usage of an architectural pattern or design pattern</p>
</li>
<li>
<p>decisions on how to achieve key quality goals</p>
</li>
<li>
<p>relevant organizational decisions, e.g. selecting a development process or delegating certain tasks to third parties.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>These decisions form the cornerstones for your architecture. They are the foundation for many other detailed decisions or implementation rules.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Keep the explanations of such key decisions short.</p>
</div>
<div class="paragraph">
<p>Motivate what was decided and why it was decided that way,
based upon problem statement, quality goals and key constraints.
Refer to details in the following sections.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-4/">Solution Strategy</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_4_1_technology_decisions">4.1. 4.1. Technology Decisions</h3>
<div class="paragraph">
<p>As part of the project’s initial planning phase, we have identified a set of <strong>technologies</strong> that we believe will be well-suited to implement the WiChat application. These technologies align with the project requirements and will guide the development process once the implementation begins.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>JavaScript</strong> – A versatile, high-level programming language widely used for developing dynamic and interactive web applications. It allows for both client-side and server-side development, making it an ideal choice for the full-stack needs of the project.</p>
</li>
<li>
<p><strong>React</strong> – A JavaScript library designed for building efficient user interfaces for single-page applications. React&#8217;s component-based architecture will enhance reusability and maintainability, which will be key once development begins.</p>
</li>
<li>
<p><strong>Node.js</strong> – A runtime environment for executing JavaScript on the server side. Node.js is well-suited to handling asynchronous operations, making it a good choice for scalable network applications and managing database interactions.</p>
</li>
<li>
<p><strong>Express.js</strong> – A lightweight web framework built on top of Node.js, planned to simplify backend development. Express will provide essential features such as routing, middleware management, and API creation, ensuring smooth backend processes during the project’s development.</p>
</li>
<li>
<p><strong>MongoDB</strong> – A NoSQL, document-oriented database. MongoDB offers flexibility, scalability, and high availability. Its JSON-like document structure is well-suited for applications that may need to dynamically adjust the database schema as the project evolves.</p>
</li>
<li>
<p><strong>Docker</strong> – A containerization platform that allows developers to package applications along with their dependencies, ensuring consistent execution across different environments. This will simplify deployment and enhance scalability when the system is up and running.</p>
</li>
<li>
<p><strong>GitHub</strong> – A version control platform that will be essential for managing the project’s codebase. It will enable collaborative development, tracking of changes, and automation of workflows, particularly important for a smooth development process as the team grows.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_4_2_system_architecture">4.2. 4.2. System Architecture</h3>
<div class="paragraph">
<p>The architecture for the WiChat application is currently planned to be based on a <strong>microservices architecture</strong>, a modular approach that allows distinct services to be developed and maintained independently. This structure is chosen to provide scalability, flexibility, and ease of maintainability as the project progresses.</p>
</div>
<div class="paragraph">
<p>The system will consist of the following microservices, each designed to handle specific responsibilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>User Service</strong> – This service will manage user registration, profile management, and the friend system.</p>
</li>
<li>
<p><strong>Gateway Service</strong> – The gateway service will serve as the public-facing entry point, routing incoming requests to the appropriate microservices.</p>
</li>
<li>
<p><strong>WebApp Service</strong> – This is the frontend web application, which will interact with the gateway service to provide essential functionalities like user authentication.</p>
</li>
<li>
<p><strong>Auth Service</strong> – The auth service will manage user authentication processes, ensuring secure login and session handling.</p>
</li>
<li>
<p><strong>Question Service</strong> – This service will gather information from Wikidata to construct questions and store them in the database, saving them for later use in the game.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These decisions are being made with the goal of setting up a solid foundation for the development, ensuring that once work begins, the system will be modular and capable of scaling as needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_4_3_decisions_made_to_achieve_quality_goals">4.3. 4.3. Decisions Made to Achieve Quality Goals</h3>
<div class="paragraph">
<p>Before beginning the development of the project, we identified several <strong>quality goals</strong> that will guide our design and implementation strategy. The following decisions were made to address these goals and ensure the system meets the expected standards once development begins.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Quality Goal</th>
<th class="tableblock halign-left valign-top">Decision Made</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Usability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application must be designed to be intuitive and accessible for users with various backgrounds.
To ensure usability, we have planned:
* Conducting user feedback sessions and usability tests at the early stages of development.
* Choosing an appropriate typography style and sizing to ensure legibility and user comfort.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Performance Efficiency</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system needs to be optimized to handle potential traffic surges and deliver quick responses to users.
The following strategies are planned to optimize performance:
* Reducing request frequency to external services (like WikiData) to avoid overloading the system.
* The information retrieved from WikiData and processed by the question service will be stored in a database for a quick access.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Maintainability &amp; Scalability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must be modular, easy to maintain, and scalable for future growth.
To ensure long-term maintainability and scalability, we have outlined the following approaches:
* Choosing a <strong>microservices architecture</strong> that allows for modular development and easy updates or additions.
* Implementing key <strong>design patterns</strong>, including:
  <strong>Gateway Pattern</strong> – A single entry point for external requests to streamline access.
  <strong>Single Responsibility Principle</strong> – Ensuring each service has a focused and clear role.
* Maintaining clean and documented code, following industry best practices to ensure ease of future modifications.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Security</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protecting user data and maintaining the security of the system is essential.
The following security measures are being considered:
* Utilizing <strong>JWT-based authentication</strong> to securely manage user sessions.
* Implementing <strong>role-based access control (RBAC)</strong> to restrict access to sensitive functionalities.
* Ensuring secure coding practices to protect against threats such as <strong>SQL injection and cross-site scripting (XSS)</strong>.
* Enabling <strong>SSL/TLS encryption</strong> to secure data during transmission between clients and servers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Availability &amp; Reliability</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application must be available at all times and provide a reliable experience to users.
To ensure availability, the following actions are being planned:
* Configuring <strong>automated monitoring and alerting systems</strong> to detect potential issues and trigger immediate resolution processes.
* Designing the system with <strong>fault tolerance</strong> in mind, so that key services can continue running even in case of failures.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_4_4_organizational_decisions">4.4. 4.4. Organizational Decisions</h3>
<div class="paragraph">
<p>We have outlined the following <strong>organizational decisions</strong> to help guide the development process once the project begins:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Task Distribution</strong> – We plan to distribute tasks as evenly as possible among team members to ensure a balanced workload. The goal is to make sure that once a task is completed, at least 50% of the team should review it before it is considered valid. This review process will help maintain high-quality standards throughout the development cycle.</p>
</li>
<li>
<p><strong>GitHub Issues</strong> – To manage tasks effectively, we will utilize <strong>GitHub Issues</strong>. This will allow us to create, assign, and track tasks while also providing a platform for discussing any critical decisions that may arise during development.</p>
</li>
<li>
<p><strong>GitHub Actions</strong> – We will be using <strong>GitHub Actions</strong> to make workflows for CI/CD, deploying documentation and deploying the application itself, this will help us to track better our progress and find bugs during development.</p>
</li>
<li>
<p><strong>Language</strong> – The documentation and code will be developed in <strong>English</strong>. This decision ensures that both the code and documentation are accessible to all team members, as well as to future contributors.</p>
</li>
<li>
<p><strong>External Meetings</strong> – Regular external meetings will be held to review the project’s progress and determine the next steps. These meetings will help ensure we stay aligned with the project goals and timelines.</p>
</li>
<li>
<p><strong>Internal Communication</strong> – We will use <strong>Discord</strong> and <strong>WhatsApp</strong> as the primary communication platforms for internal discussions. This tools will facilitate real-time collaboration and help resolve issues as they arise during development.</p>
</li>
<li>
<p><strong>Documentation</strong> – For documentation purposes, we have decided to use <strong>Asciidoc</strong>. This tool was chosen because it simplifies the process of deploying and maintaining project documentation, making it easier for the team to collaborate and contribute.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-building-block-view">5. Building Block View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whitebox_overall_system">5.1. Whitebox Overall System</h3>
<div class="paragraph">
<p><em><strong>First Level</strong></em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/05_level1.png" alt="First level">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Motivation</dt>
<dd>
<p><em>WIChat is the general structure of a system in which a user can play the game interacting with an LLM for hints.</em></p>
</dd>
<dt class="hdlist1">Contained Building Blocks</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>User</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client of the application which will interact with it.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>WIChat</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System developed to be used by the users.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Wikidata</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aplication to generate the questions and answers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Gemini AI</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API used for the hints.</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Important Interfaces</dt>
<dd>
<p><em>- API communication between WIChat and external services (WikiData, Gemini AI).</em></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_level_2_internal_structure_of_wichat">5.2. Level 2 - Internal Structure of WIChat</h3>
<div class="paragraph">
<p><em><strong>Detailed System Overview</strong></em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/05_level2.png" alt="Second level">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Contained Building Blocks</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>GatewayService</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manages incoming requests and routes them to appropriate services.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>UserManager</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles authentication, user management, and ranking system.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>LLMService</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connects to Gemini AI to generate hints for users.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>QuestionService</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Communicates with WikiData to retrieve questions and answers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>Wikidata</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">External service for retrieving data to compose questions and answers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>WebApp</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User-facing interface for gameplay and interactions.</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Important Interfaces</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>REST API for WebApp to communicate with GatewayService.</p>
</li>
<li>
<p>Internal service-to-service communication for user authentication and data retrieval.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_level_3_detailed_breakdown_of_gatewayservice">5.3. Level 3 - Detailed Breakdown of GatewayService</h3>
<div class="paragraph">
<p><em><strong>GatewayService Internal Structure</strong></em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/05_level3.png" alt="Third level">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Contained Building Blocks</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>UserManager</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submodule responsible for managing users and authentication.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>AuthService</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles authentication and security mechanisms.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>UserService</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manages user profiles, sessions, and stores and updates leaderboard data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>QuestionService</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Retrieves and formats questions from WikiData.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><em>MongoDB Database</em></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores user information, rankings, and game data in the user database and stores questions in the question database.</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Important Interfaces</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Communication between UserManager and MongoDB for user data storage.</p>
</li>
<li>
<p>Integration of QuestionService with WikiData API to fetch questions.</p>
</li>
<li>
<p>Secure authentication flows via AuthService.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-runtime-view">6. Runtime View</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>The runtime view describes concrete behavior and interactions of the system’s building blocks in form of scenarios from the following areas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>important use cases or features: how do building blocks execute them?</p>
</li>
<li>
<p>interactions at critical external interfaces: how do building blocks cooperate with users and neighboring systems?</p>
</li>
<li>
<p>operation and administration: launch, start-up, stop</p>
</li>
<li>
<p>error and exception scenarios</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Remark: The main criterion for the choice of possible scenarios (sequences, workflows) is their <strong>architectural relevance</strong>. It is <strong>not</strong> important to describe a large number of scenarios. You should rather document a representative selection.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should understand how (instances of) building blocks of your system perform their job and communicate at runtime.
You will mainly capture scenarios in your documentation to communicate your architecture to stakeholders that are less willing or able to read and understand the static models (building block view, deployment view).</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>There are many notations for describing scenarios, e.g.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>numbered list of steps (in natural language)</p>
</li>
<li>
<p>activity diagrams or flow charts</p>
</li>
<li>
<p>sequence diagrams</p>
</li>
<li>
<p>BPMN or EPCs (event process chains)</p>
</li>
<li>
<p>state machines</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-6/">Runtime View</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_login">6.1. Login</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Question%20Generation%20Diagram.png" alt="Question Generation Diagram" width="710" height="452">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_question_generation">6.2. Question generation</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Question%20Generation%20Diagram.png" alt="Question Generation Diagram" width="552" height="572">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_how_does_the_user_gets_the_questions_to_play_the_game">6.3. How does the user gets the questions to play the game</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Get%20Questions%20Diagram.png" alt="Get Questions Diagram" width="685" height="426">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_clue_generation">6.4. Clue Generation</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Clue%20Generation%20Diagram.png" alt="Clue Generation Diagram" width="611" height="469">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_game">6.5. Game</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Game%20Process%20Diagram.png" alt="Game Process Diagram" width="679" height="530">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_show_user_info">6.6. Show User Info</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Clue%20Generation%20Diagram.png" alt="Clue Generation Diagram" width="564" height="426">
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-deployment-view">7. Deployment View</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>The deployment view describes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Technical infrastructure used to execute your system, including geographical locations, environments, computers, processors, channels, and network topologies, as well as other infrastructure elements.</p>
</li>
<li>
<p>Mapping of (software) building blocks to these infrastructure elements.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Often systems are executed in different environments (e.g., development, test, production). In such cases, document all relevant environments.</p>
</div>
<div class="paragraph">
<p>Especially document a deployment view if your software is executed as a distributed system with more than one computer, processor, server, or container, or when you design and construct your own hardware processors and chips.</p>
</div>
<div class="paragraph">
<p>From a software perspective, it is sufficient to capture only those elements of an infrastructure that are needed to show a deployment of your building blocks. Hardware architects can go beyond that and describe an infrastructure to any level of detail they require.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Software does not run without hardware.
This underlying infrastructure can and will influence a system and/or some cross-cutting concepts. Therefore, there is a need to know the infrastructure.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Maybe a highest-level deployment diagram is already contained in section 3.2 as a technical context with your own infrastructure as ONE black box. In this section, one can zoom into this black box using additional deployment diagrams:
* UML offers deployment diagrams to express that view (using nested diagrams if necessary).
* When your (hardware) stakeholders prefer other kinds of diagrams rather than a deployment diagram, let them use any diagram that is able to show nodes and channels of the infrastructure.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-7/">Deployment View</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_infrastructure">7.1. Infrastructure</h3>
<div class="paragraph">
<p>The following overview diagram shows the overall deployment of the Quiz Web Application. It illustrates how the system is distributed within an Azure Virtual Machine using Docker containers, and how the individual services interact with each other as well as with external services.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Motivation</dt>
<dd>
<p>The infrastructure has been designed to support a distributed system where each microservice is encapsulated in its own Docker container. This approach facilitates scalability, ease of deployment, and fault isolation. The use of an Azure VM provides a robust hosting environment, while external integrations (as with Wikidata) enrich the application&#8217;s functionality.</p>
</dd>
<dt class="hdlist1">Mapping of Building Blocks to Infrastructure</dt>
<dd>
<p>Software components are each deployed in their own Docker container within Azure. The GatewayService orchestrates communication among these services, while persistent data is managed by a MongoDB database. The QuestionService also interacts with the external Wikidata service to retrieve dynamic content for the quiz.</p>
</dd>
</dl>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/Deploy.png" alt="Deployment Diagram for Quiz Web Application">
</div>
</div>
<div class="sect3">
<h4 id="_azure_vm_and_docker_containers">7.1.1. <em>Azure VM and Docker Containers</em></h4>
<div class="paragraph">
<p>Within Azure, the following Docker containers are deployed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>WebApp:</strong>
Hosts the Quiz Application front-end, which is accessed via a Web Browser by the end user.</p>
</li>
<li>
<p><strong>GatewayService:</strong>
Acts as the central API gateway, routing user requests from the WebApp to the appropriate back-end services.</p>
</li>
<li>
<p><strong>AuthService:</strong>
Manages user authentication and connects to the database for credential verification.</p>
</li>
<li>
<p><strong>UserService:</strong>
Handles user management functions, including registration, profile updates, and statistics.</p>
</li>
<li>
<p><strong>LLMService:</strong>
Processes natural language queries and interacts with the database to store and retrieve processed data.</p>
</li>
<li>
<p><strong>QuestionService:</strong>
Generates quiz questions and, in addition to accessing the internal MongoDB, retrieves external data from Wikidata.</p>
</li>
<li>
<p><strong>MongoDB (Database):</strong>
Provides persistence for user data and other application data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Communication between these containers is managed internally within Azure, ensuring secure and efficient data transfer.</p>
</div>
</div>
<div class="sect3">
<h4 id="_external_services">7.1.2. <em>External Services</em></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Wikidata:</strong>
The QuestionService accesses Wikidata to fetch additional data for quiz questions.</p>
</li>
<li>
<p><strong>Gemini AI:</strong>
The LLM Service uses Gemini to give the user the hints requested.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-concepts">8. Cross-cutting Concepts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_domain_concepts">8.1. Domain Concepts</h3>
<div class="paragraph">
<p>The WIChat system is built around the concept of an interactive question-and-answer game where users receive hints to guess the correct answer. The system integrates data from WikiData and utilizes a Large Language Model (LLM) to generate dynamic hints.</p>
</div>
<div class="paragraph">
<p>Key domain concepts include:</p>
</div>
<div class="paragraph">
<p>Users: Participants interacting with WIChat.</p>
</div>
<div class="paragraph">
<p>Questions &amp; Answers: Content dynamically generated from WikiData.</p>
</div>
<div class="paragraph">
<p>Hints: AI-generated assistance to guide users.</p>
</div>
<div class="paragraph">
<p>Ranking: Scores and leaderboards to enhance engagement.</p>
</div>
<div class="paragraph">
<p>Game settings: Personalize your games</p>
</div>
</div>
<div class="sect2">
<h3 id="_user_experience_ux_concepts">8.2. User Experience (UX) Concepts</h3>
<div class="paragraph">
<p>User experience is a fundamental aspect of WIChat, ensuring seamless interaction and intuitive design.</p>
</div>
<div class="paragraph">
<p>Minimalist UI Design: A clean and distraction-free interface.</p>
</div>
<div class="paragraph">
<p>Real-time Feedback: Immediate responses to user input.</p>
</div>
<div class="paragraph">
<p>Gamification Elements: Leaderboards, game settings and friend system to boost user engagement.</p>
</div>
</div>
<div class="sect2">
<h3 id="_security_and_safety_concepts">8.3. Security and Safety Concepts</h3>
<div class="paragraph">
<p>Security is a critical component of WIChat, ensuring safe interactions and data integrity.</p>
</div>
<div class="paragraph">
<p>Authentication and Authorization: User authentication through secure protocols and token validation to access protected resources.</p>
</div>
<div class="paragraph">
<p>Input Validation: Preventing injection attacks and ensuring data integrity.</p>
</div>
</div>
<div class="sect2">
<h3 id="_architecture_and_design_patterns">8.4. Architecture and Design Patterns</h3>
<div class="paragraph">
<p>WIChat follows established software design principles to ensure scalability and maintainability.</p>
</div>
<div class="paragraph">
<p>Microservices Architecture: Decoupled services to improve scalability.</p>
</div>
</div>
<div class="sect2">
<h3 id="_under_the_hood_technical_implementation">8.5. "Under-the-hood" - Technical Implementation</h3>
<div class="paragraph">
<p>Backend: Implemented using Node.js with Express.</p>
</div>
<div class="paragraph">
<p>Frontend: Built with React for a dynamic user experience.</p>
</div>
<div class="paragraph">
<p>Database: MongoDB as the primary data store.</p>
</div>
<div class="paragraph">
<p>LLM Integration: Gemini AI used for hint generation.</p>
</div>
<div class="paragraph">
<p>External Data Source: WikiData for retrieving question-related information.</p>
</div>
<div class="paragraph">
<p>External Data Source: Gemini AI retrieves hints for the user.</p>
</div>
</div>
<div class="sect2">
<h3 id="_development_concepts">8.6. Development Concepts</h3>
<div class="paragraph">
<p>Version Control: Git and GitHub for source code management.</p>
</div>
<div class="paragraph">
<p>Continuous Integration/Deployment (CI/CD): Automated testing and deployment pipelines.</p>
</div>
<div class="paragraph">
<p>Code Reviews: Peer reviews to maintain code quality.</p>
</div>
</div>
<div class="sect2">
<h3 id="_operational_concepts">8.7. Operational Concepts</h3>
<div class="paragraph">
<p>Logging &amp; Monitoring: Centralized logging and performance monitoring tools.</p>
</div>
<div class="paragraph">
<p>Error Handling: Graceful degradation strategies for unexpected failures.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-design-decisions">9. Architecture Decisions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Architectural Decision Records (ADRs) have been incorporated into the Wiki section of our GitHub page. The corresponding links are provided below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/Arquisoft/wichat_es4c/wiki/ADR-01-(JavaScript)">ADR 01</a> &#8594; JavaScript</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wichat_es4c/wiki/ADR-02-(React)">ADR 02</a> &#8594; React</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wichat_es4c/wiki/ADR-03-(Docker)">ADR 03</a> &#8594; Docker</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wichat_es4c/wiki/ADR-04-(React%E2%80%90router%E2%80%90dom)">ADR 04</a> &#8594; React Router Dom</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wichat_es4c/wiki/ADR-05-(MongoDB)">ADR 05</a> &#8594; MongoDB</p>
</li>
</ul>
</div>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Important, expensive, large scale or risky architecture decisions including rationales.
With "decisions" we mean selecting one alternative based on given criteria.</p>
</div>
<div class="paragraph">
<p>Please use your judgement to decide whether an architectural decision should be documented
here in this central section or whether you better document it locally
(e.g. within the white box template of one building block).</p>
</div>
<div class="paragraph">
<p>Avoid redundancy.
Refer to section 4, where you already captured the most important decisions of your architecture.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Stakeholders of your system should be able to comprehend and retrace your decisions.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Various options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ADR (<a href="https://cognitect.com/blog/2011/11/15/documenting-architecture-decisions">Documenting Architecture Decisions</a>) for every important decision</p>
</li>
<li>
<p>List or table, ordered by importance and consequences or:</p>
</li>
<li>
<p>more detailed in form of separate sections per decision</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-9/">Architecture Decisions</a> in the arc42 documentation.
There you will find links and examples about ADR.</p>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-quality-scenarios">10. Quality Requirements</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>This section contains all quality requirements as quality tree with scenarios. The most important ones have already been described in section 1.2. (quality goals)</p>
</div>
<div class="paragraph">
<p>Here you can also capture quality requirements with lesser priority,
which will not create high risks when they are not fully achieved.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Since quality requirements will have a lot of influence on architectural
decisions you should know for every stakeholder what is really important to them,
concrete and measurable.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-10/">Quality Requirements</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quality_tree">10.1. Quality Tree</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Content</div>
<p>The quality tree (as defined in ATAM – Architecture Tradeoff Analysis Method) with quality/evaluation scenarios as leafs.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>The tree structure with priorities provides an overview for a sometimes large number of quality requirements.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>The quality tree is a high-level overview of the quality goals and requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>tree-like refinement of the term "quality". Use "quality" or "usefulness" as a root</p>
</li>
<li>
<p>a mind map with quality categories as main branches</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In any case the tree should include links to the scenarios of the following section.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quality_scenarios">10.2. Quality Scenarios</h3>
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>Concretization of (sometimes vague or implicit) quality requirements using (quality) scenarios.</p>
</div>
<div class="paragraph">
<p>These scenarios describe what should happen when a stimulus arrives at the system.</p>
</div>
<div class="paragraph">
<p>For architects, two kinds of scenarios are important:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Usage scenarios (also called application scenarios or use case scenarios) describe the system’s runtime reaction to a certain stimulus. This also includes scenarios that describe the system’s efficiency or performance. Example: The system reacts to a user’s request within one second.</p>
</li>
<li>
<p>Change scenarios describe a modification of the system or of its immediate environment. Example: Additional functionality is implemented or requirements for a quality attribute change.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>Scenarios make quality requirements concrete and allow to
more easily measure or decide whether they are fulfilled.</p>
</div>
<div class="paragraph">
<p>Especially when you want to assess your architecture using methods like
ATAM you need to describe your quality goals (from section 1.2)
more precisely down to a level of scenarios that can be discussed and evaluated.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>Tabular or free form text.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_usage_scenarios">10.2.1. Usage Scenarios</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 37.5%;">
<col style="width: 37.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Quality Goal</th>
<th class="tableblock halign-left valign-top">Motivation</th>
<th class="tableblock halign-left valign-top">Usage Scenario</th>
<th class="tableblock halign-left valign-top">Priority</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Usability</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application must be intuitive and easy to navigate, especially for new users.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A new user can register, understand the rules, and start a quiz without external guidance.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Interactivity</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To engage users with real-time feedback during the quiz.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Upon selecting an answer, the system immediately displays whether the answer is correct and then seamlessly transitions to the next question.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Availability</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The app must be accessible at any time to ensure users can play the quiz whenever desired.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system maintains enabled most of the time.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Scalability</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system should accommodate a growing number of concurrent users without performance degradation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application supports multiple concurrent users .</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Performance</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To ensure a smooth and responsive quiz experience.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When a user submits an answer, the system processes the response and updates the UI as quickly as possible.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Reliability</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To deliver consistent and accurate quiz results.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system accurately records user answers, scores, and game statistics in every quiz session.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Testability</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The design should allow for efficient automated testing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developers can run unit and integration tests to verify quiz logic and API endpoints with minimal configuration.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_change_scenarios">10.2.2. Change Scenarios</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 37.5%;">
<col style="width: 37.5%;">
<col style="width: 12.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Change Scenario</th>
<th class="tableblock halign-left valign-top">Motivation</th>
<th class="tableblock halign-left valign-top">Expected Response</th>
<th class="tableblock halign-left valign-top">Priority</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Adding New Quiz Categories</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To expand content and keep the quiz engaging.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New categories can be integrated into the system without impacting existing functionality.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Enhancing Chat Assistance</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To improve user support by leveraging upgrades in the Gemini LLM.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The chat module can be updated or replaced with enhanced capabilities without affecting core quiz functionality.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Adding a ranking</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To give the user a more competitive view of the game.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The dedicated user service can be extended for it to save more information about users to represent it on the ranking.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Game History</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Give the user the opportunity to see what went wrong (or good).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User service is extended for this, making possible to view the last games the user has played.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Friends System</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To give the user the possibility of adding users.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User service is extended for this, a user can add another one as their friend to see how it&#8217;s doing in the app. This functionality can be easily extended to build multiplayer games where you can play against your friends.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Adding an admin panel</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To give the admin a clear view of the users in the system and manage them.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User and auth services are extended for this, as the admin can delete users (work for user service) and to enter the admin panel the user has to be an admin (authorization is work for the auth service).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Game Settings</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To give the user the chance of adjusting parameters to play the game (response time, number of questions, what type of questions does he wants).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Question service is adapted for this, as it is responsible for the questions and the game component is adapted to handle the new parameters. User service is extended too to save the user settings for the next time he wants to log in again into the app.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-technical-risks">11. Risks and Technical Debts</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>A list of identified technical risks or technical debts, ordered by priority</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>“Risk management is project management for grown-ups” (Tim Lister, Atlantic Systems Guild.)</p>
</div>
<div class="paragraph">
<p>This should be your motto for systematic detection and evaluation of risks and technical debts in the architecture, which will be needed by management stakeholders (e.g. project managers, product owners) as part of the overall risk analysis and measurement planning.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>List of risks and/or technical debts, probably including suggested measures to minimize, mitigate or avoid risks or reduce technical debts.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-11/">Risks and Technical Debt</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_risks">11.1. Risks</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Risk</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Familiarity with technologies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Many of the base technologies used by the project, such as docker, asciidoc or react, are new to the team. The unfamiliarity, specially at the begginging, can cause a slow development and bad decisions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implementation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Team members mistakes such as the incorrect/unefficient implementation of a solution can cause big errors. Finding or fixing this errors takes time, which is a very limited reosurce in this project.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This project must be submmited within the agreed dates, and any decision taken to meet this deadlines can cause very different problems. These decisions include deleting functionalities, lack of testing, bad coding or insufficient documentation(including both the GitHub and the source code).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Teamwork</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The methodology used and the participation, communication and commitment of the team are cruzial for the succes of this project.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Design</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A bad desing decision at the beggining of the project can cause a more difficult development, with more complications when updating or scalating the project, specially in a an application of this size and complexity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wikidata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Every aspect related to Wikidata: lack of knowledge wiht the platform, incorrect use, possible unavailability of the platform&#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gemini AI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gemini API is not free, so it can be a big bottleneck if we send too many requests in a short period of time.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_technical_debt">11.2. Technical Debt</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Technical Debt</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The lack of proper documentation can make the project difficult to mantain or upgrade in the future, as it can increase the difficulty of finding mistakes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quality code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prioritizing time over quality when coding can decrease the efficiency of the project. Unefficient methods and repetitive structures should be avoided.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test-coverage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A bad test-coverage can cause long-term problems, as the project could keep developing with udentified mistakes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obsolote technologies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The use of obsolete or unsupported technologies such as frameworks or libraries can lead to reducted performance or security issues.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-glossary">12. Glossary</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>The most important domain and technical terms that your stakeholders use when discussing the system.</p>
</div>
<div class="paragraph">
<p>You can also see the glossary as source for translations if you work in multi-language teams.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>You should clearly define your terms, so that all stakeholders</p>
</div>
<div class="ulist">
<ul>
<li>
<p>have an identical understanding of these terms</p>
</li>
<li>
<p>do not use synonyms and homonyms</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>A table with columns &lt;Term&gt; and &lt;Definition&gt;.</p>
</div>
<div class="paragraph">
<p>Potentially more columns in case you need translations.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See <a href="https://docs.arc42.org/section-12/">Glossary</a> in the arc42 documentation.</p>
</div>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>WIChat</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The application providing an interactive Q&amp;A experience.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>User</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A person interacting with WIChat.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Question</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A query generated dynamically using WikiData.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Answer</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The correct response to a question in the game.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Hint</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>AI-generated clues to help users guess the correct answer.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Gemini AI</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The LLM service used to generate contextual hints.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>WikiData</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The external knowledge base used to generate questions.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Gateway Service</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The main entry point handling API requests and routing.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>User Manager</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A component handling authentication, user data management and also tracks user scores and leaderboard.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>AuthService</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A service responsible for user authentication and security.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>UserService</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A service managing user-related operations.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>LLMService</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A service that connects to Gemini AI for hint generation.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>QuestionService</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>A service responsible for retrieving information from WikiData, translating it into generated questions, saving them in a database for later use in the game.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>WebApp</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The frontend interface used by players to interact with WIChat.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>MongoDB</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The database system used to store user and game-related data like questions.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Docker</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The containerization platform used for deployment and scalability.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>JavaScript</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The primary programming language used for both frontend and backend development.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>React</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The JavaScript library used to build the WIChat frontend.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Express</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The web framework for Node.js used to build the WIChat backend.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Node.js</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The runtime environment for executing JavaScript code server-side.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Java</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Programming language used for load tests.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>CI/CD</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Continuous Integration and Deployment processes for automation and code deployment.</em></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-testing-report">13. Testing Report</h2>
<div class="sectionbody">
<div class="sidebarblock arc42help">
<div class="content">
<div class="paragraph">
<div class="title">Contents</div>
<p>This section provides a detailed report of the tests conducted on the WIChat system, including unit tests, acceptance tests (end-to-end tests), code coverage and load tests. It outlines the methodologies, scenarios, and results. Finally, it also analyzes the results obtained via monitoring/profiling</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>To ensure the reliability and proper functionality of the system, comprehensive testing was conducted. This report serves to document the process and outcomes.</p>
</div>
<div class="paragraph">
<div class="title">Form</div>
<p>The section is divided into subsections for unit testing and acceptance testing, with details about scenarios and expected results.</p>
</div>
<div class="paragraph">
<div class="title">Further Information</div>
<p>See the testing guidelines in the arc42 documentation for more information.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_unit_tests">13.1. Unit Tests</h3>
<div class="paragraph">
<p>Unit tests were conducted across all microservices and the WebApp frontend to ensure the correct behavior of individual components and services. The primary goals were:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validate the functionality of individual methods, classes, and components.</p>
</li>
<li>
<p>Detect bugs early in the development process.</p>
</li>
<li>
<p>Maintain a high standard of code quality.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Summary of Tests</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>User Manager</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Tests cover user information, score tracking, and leaderboard updates.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>AuthService</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Tests include login validation, token generation, and security checks.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>LLMService</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Covers scenarios for hint generation and integration with the Gemini AI API.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>QuestionService</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Tests check the information retrieved from WikiData and generated questions to meet standards.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>GatewayService</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Tests for the endpoints, makes sure all work as they are meant to.</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>WebApp (Frontend)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Component-level testing for React components, including dynamic rendering and user interaction.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_acceptance_tests_end_to_end">13.2. Acceptance Tests (End-to-End)</h3>
<div class="paragraph">
<p>End-to-end (e2e) tests were conducted to validate the system&#8217;s behavior under real-world scenarios. These tests covered the following features:</p>
</div>
<div class="sect3">
<h4 id="_feature_accessing_user_statistics_as_user">13.2.1. Feature: Accessing User Statistics as User</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Scenario</th>
<th class="tableblock halign-left valign-top">Steps</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The user wants to access their statistics</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given: A user with name "testuser" and password "testuser"
When: I log in with the user credentials
And: I press the statistics button
Then: I should see the profile page for "testuser"</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_feature_playing_the_game">13.2.2. Feature: Playing the Game</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Scenario</th>
<th class="tableblock halign-left valign-top">Steps</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The user plays a game with their own game values and logs out</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given: A user with name "test" and password "test"
When: The user logs in with the user credentials
And: The user presses the account button
And: The user presses the settings button
And: The user changes the value number of questions to 2
And: The user saves the changes
And: The user presses the play button
And: The user answers the first question
And: The user answers the second question
And: The game ends and the message "¡Resumen de la partida!" is shown
And: The user presses the go menu button
And: The user presses the account button
And: The user presses the logout button
Then: The home page is shown</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The user plays a game and the statistics are saved</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given: A user with name "test" and password "test"
When: The user logs in with the user credentials
And: The user presses the play button
And: The user answers the first question
And: The user answers the second question
And: The game ends and the message "¡Resumen de la partida!" is shown
And: The user presses the go menu button
And: The user presses the account button
And: The user presses the profile button
Then: The user played games statistic is 2</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_feature_registering_a_new_user">13.2.3. Feature: Registering a New User</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Scenario</th>
<th class="tableblock halign-left valign-top">Steps</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The user is not registered on the site</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given: A user with name "admin3" and password "admin3"
When: The user fills the data in the form and presses submit
Then: The confirmation message "Redirecting to login&#8230;&#8203;" should be shown on the screen</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The user is not registered but the username is not valid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given: A user with name "a" and password "admin3"
When: The user fills the data in the form and presses submit
Then: The message "Username must be at least 3 characters long" should be shown on the screen</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The user is not registered but the password is not valid</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given: A user with name "admin4" and password "a"
When: The user fills the data in the form and presses submit
Then: The message "Password must be at least 3 characters long" should be shown on the screen</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The user is not registered but the username is already taken</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given: A user with name "admin3" and password "admin3"
When: The user fills the data in the form and presses submit
Then: The message "duplicate key error" should be shown on the screen</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_monitoringprofiling">13.3. Monitoring/Profiling</h3>
<div class="paragraph">
<p>To validate the behavior and performance of the WIChat system under realistic conditions, we used Prometheus as the metrics collector and Grafana for visualization. The following graphs were collected from a local environment using test data. Although the values are not representative of a production system, they serve as a baseline to confirm correct integration and stable behavior of the services.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/monitoring1.png" alt="First Metric">
</div>
</div>
<div class="paragraph">
<p>Metric: scrape_duration_seconds</p>
</div>
<div class="paragraph">
<p>This metric represents the time Prometheus takes to scrape and process metrics from the gatewayservice:8000 via the /metrics endpoint. Values ranged between 0.001 and 0.006 seconds, reflecting very fast and efficient responses. These results are expected in a local environment, where traffic is limited and resource usage is low. It confirms that Prometheus is working correctly and that the Gateway service exposes its metrics reliably. However, values in production may vary due to concurrency, network latency, or server load.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/monitoring2.png" alt="Second Metric">
</div>
</div>
<div class="paragraph">
<p>Metric: http_request_duration_seconds_count</p>
</div>
<div class="paragraph">
<p>This graph shows the cumulative number of HTTP requests made to gatewayservice:8000, grouped by method (GET/POST) and status code. The majority of requests returned status 200, indicating successful interactions with the endpoints. A few 304 responses were also recorded, which are expected when requesting cacheable resources. One 400 response was generated deliberately during testing by submitting invalid login credentials, demonstrating correct error handling by the backend.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/monitoring3.png" alt="Third Metric">
</div>
</div>
<div class="paragraph">
<p>Metric: histogram_quantile(0.95, sum by (le) (rate(http_request_duration_seconds_bucket[5m])))</p>
</div>
<div class="paragraph">
<p>This query calculates the 95th percentile of HTTP request durations, meaning 95% of requests in the last 5 minutes completed faster than the reported value. In this test setup, several peaks were observed, with one reaching up to 0.75 seconds. These peaks coincide with a series of login attempts using various users, which naturally involve more validation and database queries. In contrast, lower and more stable values reflect typical application usage, such as navigating profiles or performing light data fetches.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/monitoring4.png" alt="Fourth Metric">
</div>
</div>
<div class="paragraph">
<p>Metric: http_request_duration_seconds_sum (by HTTP method)</p>
</div>
<div class="paragraph">
<p>This graph represents the total accumulated time (in seconds) taken by gatewayservice to process all HTTP requests during the session, grouped by method. POST requests accumulated over 3.5 seconds, while GET requests barely exceeded 1.2 seconds. This difference is expected since POST requests were directed at more complex operations such as login or data submission, which require more server-side computation. GET requests, used mostly for fetching user profiles or settings, are lighter in processing.</p>
</div>
<div class="paragraph">
<p>These metrics confirm that the system behaves efficiently under test conditions, with proper request handling and no major performance bottlenecks. The monitoring setup also provides a foundation for future observability in production deployments.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 8.2 EN<br>
Last updated 2025-05-04 19:11:07 +0200
</div>
</div>
</body>
</html>